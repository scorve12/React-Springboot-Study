services:
  # Spring Boot Backend (Oracle Cloud DB 연결)
  springboot:
    build:
      context: ./back-end
      dockerfile: Dockerfile.dev
    container_name: springboot_app
    restart: unless-stopped
    environment:
      SPRING_PROFILES_ACTIVE: oracle
      ORACLE_URL: ${ORACLE_URL:-jdbc:oracle:thin:@//your-oracle-cloud-host:1521/your-service-name}
      ORACLE_USER: ${ORACLE_USER:-board_user}
      ORACLE_PASSWORD: ${ORACLE_PASSWORD:-Produck1234!@}
    ports:
      - "8080:8080"
    volumes:
      - ./back-end/src:/app/src
    networks:
      - app-network

  # React Frontend
  react:
    build:
      context: ./front-end
      dockerfile: Dockerfile
    container_name: react_app
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      - ./front-end:/app
      - /app/node_modules
    environment:
      - REACT_APP_API_URL=http://localhost:8080
    depends_on:
      - springboot
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
